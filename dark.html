<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>NED SED</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link href="https://fonts.googleapis.com/css?family=Raleway:400,600,700" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Dosis:400,600,700" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="css/popup.css">



<script src="https://d3js.org/d3.v4.min.js"></script>
<script type="text/javascript" src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script type="text/javascript" src="/js/plotly.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
<script type="text/javascript" src="js/jquery.popup.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.4/jspdf.debug.js"></script>
<script type="text/javascript" src="js/svgToPdf.js"></script>
<!-- Latest compiled and minified JavaScript -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.12.3/js/bootstrap-select.min.js"></script>
<!-- Masonry JS -->
<script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
<!-- Draggabilly JS -->
<script src="https://unpkg.com/draggabilly@2/dist/draggabilly.pkgd.min.js"></script>



<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://unpkg.com/packery@2/dist/packery.pkgd.min.js"></script>
<script src="https://unpkg.com/draggabilly@2/dist/draggabilly.pkgd.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"
  integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="
  crossorigin="anonymous"></script>



<!--<link rel="stylesheet" type="text/css" href="css/style.css">-->
<link rel="stylesheet" type="text/css" href="css/dark.css">
<link rel="stylesheet" type="text/css" href="css/layout.css">
</head>
<body>

<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#defaultNavbar1"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button>
      <a class="navbar-brand" href="index.html">NED</a>
      </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="defaultNavbar1">
      <ul class="nav navbar-nav">
        <li><a href="dark.html">Dark Theme<span class="sr-only">(current)</span></a></li>
        <li><a href="light.html">Light Theme<span class="sr-only">(current)</span></a></li>
      </ul>
    </div>
  </div>
</nav>

<div class="container-fluid main-body">

<div class="grid">
  <div class="grid-item grid-item--height2 grid-item--width--settings">
    <div class="row  text-left">
    <div class="col-sm-12">
     <div class="light-dark">
     <div class="blue-title text-center setting-title"><h3>SETTINGS</h3></div>
     <div class="setting-inner"><h4>Two types of Error Bar Options:</h4>
      <button type="button" class="btn btn-primary" id="ErrorBarOFF">Error Bar OFF</button>
      <button type="button" class="btn btn-primary" id="ErrorBarON">Error Bar ON</button>
      <br>
      <br>
      <div class="onoffswitch">
          <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="myonoffswitch" checked>
          <label class="onoffswitch-label" for="myonoffswitch">
              <span class="onoffswitch-inner"></span>
              <span class="onoffswitch-switch"></span>
          </label>
      </div>
      <h4>Hover on and off</h4>
      <label class="switch">
        <input type="checkbox" name="onoffswitch1">
        <div class="slider"></div>
      </label>
      <h4>Show Spectral Lines</h4>
      <label class="switch">
        <input type="checkbox" name="onoffswitch2">
        <div class="slider"></div>
      </label><br><br>
      <h4>Enable UI drag</h4>
      <label class="switch">
        <input type="checkbox" name="onoffswitch3">
        <div class="slider round"></div>
      </label><br><br>
      <h4>Big Picture Mode</h4>
      <label class="switch">
        <input type="checkbox" name="onoffswitch4">
        <div class="slider round"></div>
      </label>
      <form>
        <span>X-Axis: </span>
        <select id ="ddl" class="btn-primary" name="ddl" onmousedown="this.value='';" onchange="jsFunction(this.value);">
          <option value="1">log(<em>v</em> [Hz])</option>
          <option value="2">log(λ [μm])</option>
        </select>
        <br />
        <span>Y-Axis: </span>
        <select id ="ddl2" class="btn-primary" name="ddl2" onmousedown="this.value='';" onchange="jsFunction1(this.value);">
          <option value="1">log(F<sub><em>v</em></sub> [Jy])</option>
          <option value="2">log(F<sub><em>v</em></sub> [W m<sup>-2</sup> Hz<sup>-1</sup>])</option>
          <option value="3">log(<em>v</em>F<sub><em>v</em></sub> [Jy-Hz])</option>
          <option value="4">log(<em>v</em>F<sub><em>v</em></sub> [W m<sup>-2</sup>])</option>
        </select>

      </form>
    </div>
      </div>
      </div>
    </div>
  </div>





  <div class="grid-item grid-item--width--main grid-item--height2">
    <div class="blue-title SED-title">
      <h2>Spectral Energy Distribution (SED) for ARP 220:</h2>
    </div>
    <div id="my-graph"></div>
  </div>





  <div class="grid-item grid-item--height2 grid-item--width--data">
    <div class="row ">
      <div class="col-sm-12">

      <div class="light-dark data-box"><h4 class="info-highlight">Select point to populate information:</h4>
      <h3>Data point No. <span id="hoverinfonum"></span></h3>
      <hr>
      <h4>Published Units:</h4>
      <ul >
        <li>Observed Passband: <span class="data-out" id="hoverinfoopassband"></span></li>
        <li>Measurement: <span class="data-out" id ="hoverinfomeasurement"></span></li>
        <li>Uncertainty: <span class="data-out" id="hoverinfouncertainty"></span></li>
        <li>Units: <span class="data-out" id="hoverinfounits"></span></li>
      </ul>
      <h4>Homogenized Units [Frequency, Flux Density]</h4>
      <ul>
        <li>Freq (Hz): <span class="data-out" id="hoverinfofrequency"></span></li>
        <li>Measurement: <span class="data-out" id="hoverinfomeasurement2"></span></li>
        <li>Uncertainty: <span class="data-out" id="hoverinfouncertainty2"></span></li>
        <li>Units: <span class="data-out" id="hoverinfounits2"></span></li>
        <li>Mode: <span class="data-out" id="hoverinfomode"></span></li>
        <li>Aperture/Qualifiers: <span class="data-out" id="hoverinfoaperture"></span></li>
        <li>Reference Code: <span class="data-out" id="hoverinforcode"></span></li>

      </ul></div>
      </div>
    </div>
  </div>


  <div class="grid-item grid-item--width--table">
        <div class="row table-responsive " >
					<div class="col-sm-12 bottom-table" >
						<div class="light-dark ">
							<table class="table-info table referece-table ">
								<thead class="title-font">
									<tr class="table-center bg-primary ">
										<th></th>
										<th colspan="4" align="center">Published Units</th>
										<th colspan="8">Homogenized Units [Frequency, Flux Density]</th>
									</tr>

									<tr class="table-center bg-primary">
										<th>No.</th>
										<th>Observed Passband</th>
										<th>Measurement</th>
										<th>Uncertainty</th>
										<th>Units</th>
										<th>Freq (Hz)</th>
										<th>Measurement</th>
										<th>Uncertainty</th>
										<th>Units</th>
										<th>Mode</th>
										<th>Aperture/Qualifiers</th>
										<th>Reference Code</th>
									</tr>
								</thead>
							</table>
						<div class="bottom-table-format">
							<table id="test" class="table table-responsive table-hover"></table>
						</div>
					</div>
				</div>
			</div>
  </div>
</div>
<!-- End of grid -->






</div>

<script>
// external js: packery.pkgd.js, draggabilly.pkgd.js

var $grid = $('.grid').packery({
  itemSelector: '.grid-item',
  columnWidth: 1,
  // set positions with percent values
percentPosition: true,
fitWidth: true
});


// external js: packery.pkgd.js, jquery-ui-draggable.js



//---------------------Draggable----------------------//
document.querySelector("input[name=onoffswitch3]").onchange = function() {
if(this.checked) {
  //When switch is on
  // make all items draggable
  var $items = $grid.find('.grid-item').draggable();
  // bind drag events to Packery
  $grid.packery( 'bindUIDraggableEvents', $items );
    alert("on");
  } else {
    //when switch is off
    // make all items draggable
    var $items = $grid.find('.grid-item').draggable( "destroy" );
    // bind drag events to Packery
    $grid.packery( 'bindUIDraggableEvents', $items );
      alert("off");
  }
}



</script>

<script>
            d3.text("https://edward8e.github.io/sed_proto/arp_220.csv", function(data) {
                var parsedCSV = d3.csvParseRows(data);

                var container = d3.select("#test")
//                    .append("table")

                    .selectAll("tr")
                        .data(parsedCSV).enter()
                        .append("tr")

                    .selectAll("td")
                        .data(function(d) { return d; }).enter()
                        .append("td")
                        .text(function(d) { return d; });
            });

//	$("table").addClass('be-still');

	</script>






<script>

window.onload = function() {
  var layout_update = {
    xaxis: {
      title: 'log(<em>v</em> [Hz])',
      type:'log',
      autorange: true,
      linecolor: 'white',
      linewidth: 2,
      mirror: true,
      ticks: 'inside',
      ticklen: 10,
      tickwidth: 2,
      exponentformat: "power",
      color: 'rgb(255,255,255)'
      },
    yaxis: {
      title: 'log(λ [μm])',
      type:'log',
      autorange: true,
      linecolor: 'white',
      linewidth: 2,
      mirror: true,
      ticks: 'inside',
      ticklen: 10,
      tickwidth: 2,
      exponentformat: "power",
      color: 'rgb(255,255,255)'
      },
    margin: {t: 20},
    hovermode: false,
    plot_bgcolor: 'rgb(61,64,72)',
    paper_bgcolor: 'rgb(61,64,72)',
    color: 'rgb(255,255,255)',
    bordercolor: 'rgb(255,255,255)',
    yaxis2: {
      color: 'rgb(255,255,255)'
    },
  };

  setTimeout(function(){Plotly.relayout('my-graph', layout_update);}, 1);

};
</script>



<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="js/jquery-1.11.3.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="js/bootstrap.js"></script>

<!-- SED Prototype JS -->
<script src="js/sed_proto.js"></script>



</body>
</html>
