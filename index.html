<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title></title>


    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="css/style.css">

    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script type="text/javascript" src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script type="text/javascript" src="/js/plotly.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  </head>
  <body>


<div class="container">
  <h3 align="center">Spectral Energy Distribution (SED) for ARP 220:</h3>
  <div id="my-graph"></div>
  <br>
  <br>
  <h3 align="center">Environment search directed towards: ARP 220</h3>
  <div id="my-graph2"></div>
</div>



<script>
//pulls in the CSV file
Plotly.d3.csv('arp_220.csv', function(err, dataCSV){

  var x = [], y = [], t = [], s = [];

  dataCSV.forEach(function(p) {
          x.push(p['Frequency']);
          y.push(p['NED Photometry Measurement']);
          t.push(p['Comments']);
          s.push(p['Photometry Measurement']);

      });

var data = [
      {mode: 'markers',
      type: "scatter",
      name: 'this',
      text: t,
      x: x,
      y: y}
  ];



//Graph axis related things
var layout = {
  xaxis: {
    title: 'log v (Hz)',
    type:'log',
    autorange: true,
    linecolor: 'black',
    linewidth: 2,
    mirror: true,
    ticks: 'inside',
    ticklen: 10,
    tickwidth: 2,
    },
  yaxis: {
    title: 'log f<sub>v</sub> (Jy)',
    type:'log',
    autorange: true,
    linecolor: 'black',
    linewidth: 2,
    mirror: true,
    ticks: 'inside',
    ticklen: 10,
    tickwidth: 2,
    },
  margin: {t: 20},
  hovermode: 'closest'
};

//Edits made to the toolbar
var toolbar = {
	scrollZoom: true, // lets us scroll to zoom in and out - works
	showLink: false, // removes the link to edit on plotly - works
	modeBarButtonsToRemove: ['select2d', 'lasso2d'],
  displaylogo: false
};


//Calls the plot into HTML
Plotly.plot('my-graph', data, layout, toolbar);
});
</script>








<!-- Environment search directed towards:ARP 220 -->
<script>
//pulls in the CSV file
// Plotly.d3.csv('e_search_arp_220.csv', function(err, dataCSV){
//
//   var x = [], y = [], t = [], s = [];
//
//   dataCSV.forEach(function(p) {
//           x.push(p['RA (J2000)']);
//           y.push(p['Dec (J2000)']);
//           t.push(p['Comments']);
//           s.push(p['Photometry Measurement']);
//
//       });









// Converter RA(right acension) to seconds
// 00h00m00s to 00sec

//Plotly gets every line and pushes into hms array
Plotly.d3.csv('e_search_arp_220.csv', function(err, dataCSV){
var hms = [];   // your input string
var hmsa = [];   // your input string
var pn = []
  dataCSV.forEach(function(p) {
          hms.push(p['RA (J2000)']);
          hmsa.push(p['Dec (J2000)']);
          pn.push(p['Î”cz [km/s]']);
     });

var arrayLength = hms.length;
var x;
var seconds = [];
var i;

//filters out the strings and makes time into three section array
 for(x = 0; x < arrayLength; x++)
 {
    hms[x] = hms[x].replace("s",""); //removes s
    hms[x] = hms[x].split(/[hm]/); //separates based off "h" and "m"
 }

//Pulls array and calculates the seconds
for(x = 0; x < arrayLength; x++){
    var secCalc = (+hms[x][0]) * 60 * 60 + (+hms[x][1]) * 60 + (+hms[x][2]);
    seconds.push(secCalc);
  secCalc = 0;
}

console.log(seconds);

// Converter Dec(right acension) to seconds
// 00d00m00s to 00sec
var arrayLength = hmsa.length;
var arcseconds = [];


//filters out the strings and makes time into three section array
 for(x = 0; x < arrayLength; x++)
 {
    hmsa[x] = hmsa[x].replace("s",""); //removes s
    hmsa[x] = hmsa[x].replace("+",""); //removes s
    hmsa[x] = hmsa[x].split(/[dm]/); //separates based off "h" and "m"
 }

//Pulls array and calculates the seconds
for(x = 0; x < arrayLength; x++){
    var secCalc = (+hmsa[x][0]) * 60 * 60 + (+hmsa[x][1]) * 60 + (+hmsa[x][2]);
    arcseconds.push(secCalc);
  secCalc = 0;
}

console.log(arcseconds);


//changes the color of the points to red and blue depending on positive or negative

for(i = 0; i < arrayLength; i++)
{
  if (pn[i] > 0){
    pn[i] = 'rgb(178,34,34)';
  }
  else{
  pn[i] = 'rgb(0,0,139)';
  }
}
console.log(pn);



x = seconds;
y = arcseconds;





var data = [
      {mode: 'markers',
      type: "scatter",
      name: 'this',
      marker: {color: pn},
      x: x,
      y: y}
  ];

//Graph axis related things
var layout = {
  xaxis: {
    title: 'RA<sub>(sec)</sub>',
    autorange: true,
    linecolor: 'black',
    linewidth: 2,
    mirror: true,
    ticks: 'inside',
    ticklen: 10,
    tickwidth: 2,},
  yaxis: {
    title: 'Dec<sub>(arcsec)</sub>',
    autorange: true,
    linecolor: 'black',
    linewidth: 2,
    mirror: true,
    ticks: 'inside',
    ticklen: 10,
    tickwidth: 2,},
  margin: {t: 20},
  hovermode: 'closest',
};

//Edits made to the toolbar
var toolbar = {
	scrollZoom: true, // lets us scroll to zoom in and out - works
	showLink: false, // removes the link to edit on plotly - works
	modeBarButtonsToRemove: ['select2d', 'lasso2d'],
  displaylogo: false
};


//Calls the plot into HTML
Plotly.plot('my-graph2', data, layout, toolbar);

});



</script>

<!--
<script>

// Converter RA(right acension) to seconds
// 00h00m00s to 00sec

//Plotly gets every line and pushes into hms array
Plotly.d3.csv('test.csv', function(err, dataCSV){
var hms = [];   // your input string
  dataCSV.forEach(function(p) {
          hms.push(p['RA (J2000)']);
     });

var arrayLength = hms.length;
var x;
var seconds = [];
var i;

//filters out the strings and makes time into three section array
 for(x = 0; x < arrayLength; x++)
 {
    hms[x] = hms[x].replace("s",""); //removes s
    hms[x] = hms[x].split(/[hm]/); //separates based off "h" and "m"
 }

//Pulls array and calculates the seconds
for(x = 0; x < arrayLength; x++){
    var secCalc = (+hms[x][0]) * 60 * 60 + (+hms[x][1]) * 60 + (+hms[x][2]);
    seconds.push(secCalc);
  secCalc = 0;
}

console.log(seconds);


});

</script> -->
<!--

<script>
// Converter Dec(right acension) to seconds
// 00d00m00s to 00sec

Plotly.d3.csv('e_search_arp_220.csv', function(err, dataCSV){
var hms = [];   // your input string
  dataCSV.forEach(function(p) {
          hms.push(p['Dec (J2000)']);
     });

var arrayLength = hms.length;
var x;
var arcseconds = [];
var i;

//filters out the strings and makes time into three section array
 for(x = 0; x < arrayLength; x++)
 {
    hms[x] = hms[x].replace("s",""); //removes s
    hms[x] = hms[x].replace("+",""); //removes s
    hms[x] = hms[x].split(/[dm]/); //separates based off "h" and "m"
 }

//Pulls array and calculates the seconds
for(x = 0; x < arrayLength; x++){
    var secCalc = (+hms[x][0]) * 60 * 60 + (+hms[x][1]) * 60 + (+hms[x][2]);
    arcseconds.push(secCalc);
  secCalc = 0;
}

console.log(arcseconds);


</script> -->




<!-- <script>

//pulls in the CSV file
Plotly.d3.csv('e_search_arp_220.csv', function(err, dataCSV){

  var r = [], t = [], c = [];

  dataCSV.forEach(function(p) {
          r.push(p['Sep. [Mpc]']);
          t.push(p['cz [km/s]']);
          c.push(p['Name']);

      });

var data = [
      {mode: 'markers',
      type: "scatter",
      text: c,
      r: r,
      t: t}
  ];



//Graph axis related things
var layout = {
  title: 'Environment search directed towards:ARP 220',
  font: {size: 15},
  plot_bgcolor: 'rgb(223, 223, 223)',
  angularaxis: {tickcolor: 'rgb(253,253,253)'}
};

//Edits made to the toolbar
var toolbar = {
	scrollZoom: true, // lets us scroll to zoom in and out - works
	showLink: false, // removes the link to edit on plotly - works
	modeBarButtonsToRemove: ['select2d', 'lasso2d'],
  displaylogo: false
};


//Calls the plot into HTML
Plotly.plot('my-graph2', data, layout, toolbar);

});

</script>
 -->

  </body>
</html>
